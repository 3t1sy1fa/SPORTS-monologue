---
pagination:
  data: players
  size: 1
  alias: player
permalink: "players/{{ player.slug }}/index.html"
layout: layout.njk
---

{% block styles %}
<link rel="stylesheet" href="/style/player-detail.css">
{% endblock %}

{% block content %}
<section class="player-detail-container">
  <header class="player-header">
    <img src="/images/players/{{ player.slug }}.png" 
         alt="{{ player.name }}" 
         class="player-photo">
    <div class="player-info">
      <h1>{{ player.name }}</h1>
      <p class="player-position">{{ player.position }}</p>
      <p class="player-number">ë“±ë²ˆí˜¸: {{ player.Number }}</p>
      {% if player.note %}
        <p class="player-note">"{{ player.note }}"</p>
      {% endif %}
    </div>
  </header>

  <section class="player-stats">
    <h2>ìµœê·¼ ê²½ê¸° ê¸°ë¡</h2>
    <table class="stats-table">
      <thead>
        <tr>
          <th>ë‚ ì§œ</th>
          <th>ê²½ê¸°</th>
          <th>ê¸°ë¡</th>
          <th>í‰ì </th>
        </tr>
      </thead>
      <tbody>
        {% for stat in playerStats %}
          {% if stat.playerSlug == player.slug %}
          <tr>
            <td><time datetime="{{ stat.date }}">{{ stat.date | date("MM.dd") }}</time></td>
            <td>{{ stat.game }}</td>
            <td>{{ stat.record }}</td>
            <td>{{ stat.rating }}</td>
          </tr>
          {% endif %}
        {% endfor %}
      </tbody>
    </table>
  </section>

  <!-- ğŸ—³ íˆ¬í‘œ ë²„íŠ¼ -->
  <section class="player-votes">
    <button 
      class="vote-btn" 
      data-type="player" 
      data-slug="{{ player.slug }}">
      ì´ ì„ ìˆ˜ì—ê²Œ íˆ¬í‘œí•˜ê¸°
    </button>
  </section>
</section>

<!-- âœ… íˆ¬í‘œ JS -->
<script type="module">
  import { handleVote } from "/scripts/voteHandler.js";
  document.querySelector(".vote-btn").addEventListener("click", () => {
    handleVote("player", "{{ player.slug }}");
  });
</script>
{% endblock %}