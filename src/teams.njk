---
layout: layout.njk
title: êµ¬ë‹¨ ë¶„ì„
description: "KBO 10ê°œ êµ¬ë‹¨ì˜ ì „ë ¥ ë¶„ì„, ê²½ê¸° ì¼ì •, ìµœì‹  ë‰´ìŠ¤ì™€ ì¸ê¸° êµ¬ë‹¨ ìˆœìœ„ë¥¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”."
---

{% block styles %}
  <link rel="stylesheet" href="/style/team-base.css" />
{% endblock %}

{% block content %}
  <h1 class="page-title">êµ¬ë‹¨ ë¶„ì„</h1>

  <!-- ğŸ† ì¸ê¸° êµ¬ë‹¨ Podium -->
  {% set topTeams = votes
    | selectattr("teamSlug")
    | sort(attribute="teamTotalVotes", order="desc")
  %}
  <section class="podium-section">
    {% if topTeams | length >= 3 %}
      <div class="podium podium-2 team-{{ topTeams[1].teamSlug }}">
        <img src="/images/{{ topTeams[1].teamSlug }}.png" alt="{{ topTeams[1].teamName }}">
        <span>{{ topTeams[1].teamName }}</span>
        <span class="vote-count">{{ topTeams[1].teamTotalVotes }}í‘œ</span>
      </div>
      <div class="podium podium-1 team-{{ topTeams[0].teamSlug }}">
        <img src="/images/{{ topTeams[0].teamSlug }}.png" alt="{{ topTeams[0].teamName }}">
        <span>{{ topTeams[0].teamName }}</span>
        <span class="vote-count">{{ topTeams[0].teamTotalVotes }}í‘œ</span>
      </div>
      <div class="podium podium-3 team-{{ topTeams[2].teamSlug }}">
        <img src="/images/{{ topTeams[2].teamSlug }}.png" alt="{{ topTeams[2].teamName }}">
        <span>{{ topTeams[2].teamName }}</span>
        <span class="vote-count">{{ topTeams[2].teamTotalVotes }}í‘œ</span>
      </div>
    {% else %}
      <p class="no-data">ì¸ê¸° êµ¬ë‹¨ ë°ì´í„°ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.</p>
    {% endif %}
  </section>

  <!-- ğŸ“Š êµ¬ë‹¨ ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ -->
  <section class="teams-card-section">
    {% for team in teamsBoard | sort(attribute="rank") %}
      {% set teamVote = (votes | selectattr("teamSlug", "equalto", team.slug) | first) %}
      {% set voteCount = teamVote.teamTotalVotes if teamVote else 0 %}
      <div class="team-card team-{{ team.slug }}">
        <a href="/teams/{{ team.slug }}/">
          <img src="/images/{{ team.slug }}.png" alt="{{ team.name }}">
          <div class="team-info">
            <h3>{{ team.name }}</h3>
            <p>ìˆœìœ„: {{ team.rank }}ìœ„ | ìŠ¹ë¥ : {{ team.winRate }}</p>
            <span class="last-game">ìµœê·¼ ê²½ê¸°: {{ team.lastGame }}</span>
            <span class="vote-count">íˆ¬í‘œ ìˆ˜: {{ voteCount }}í‘œ</span>
          </div>
        </a>
        <!-- âœ… êµ¬ë‹¨ íˆ¬í‘œ í¼ -->
        <form class="vote-form" data-team="{{ team.slug }}">
          <input type="hidden" name="targetType" value="team">
          <input type="hidden" name="teamSlug" value="{{ team.slug }}">
          <button type="submit" class="vote-btn">ì´ êµ¬ë‹¨ì— íˆ¬í‘œí•˜ê¸°</button>
        </form>
      </div>
    {% endfor %}
  </section>

  <!-- ğŸ“… ì´ë²ˆ ì£¼ ê²½ê¸° ì¼ì • -->
  <section class="extra-info">
    <div class="weekly-schedule">
      <h3>ì´ë²ˆ ì£¼ ê²½ê¸° ì¼ì •</h3>
      {% set today = "" | date("yyyy-MM-dd") %}
      {% set upcomingGames = leagueSchedule 
        | selectattr("date", "ge", today) 
        | slice(0, 7)
      %}
      {% if upcomingGames | length > 0 %}
        <ul>
          {% for game in upcomingGames %}
            <li>
              <time datetime="{{ game.date }}">{{ game.date | date("MM.dd") }}</time>
              {{ game.home }} vs {{ game.away }}
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="no-data">ì´ë²ˆ ì£¼ ê²½ê¸° ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.</p>
      {% endif %}
    </div>
  </section>
{% endblock %}