---
title: "íŠ¸ìœˆìŠ¤íƒ€"
layout: layout.njk
description: "ë¬´ì  LG, ëê¹Œì§€ Twins! TwinS-TAR ëŒ€ì‹œë³´ë“œ"
---

{# NOTE: twins-tar.cssëŠ” layout.njkì—ì„œ title == 'íŠ¸ìœˆìŠ¤íƒ€'ì¼ ë•Œ ì´ë¯¸ ë¡œë“œë¨. ì¤‘ë³µ ë¡œë“œ ê¸ˆì§€ #}

{% set monthISO %}2025-08{% endset %}
{% set twinsArray = twinsSchedule or [] %}
{% if voteSummary and voteSummary.players %}
  {% set allVotes = voteSummary.players %}
{% else %}
  {% set allVotes = [] %}
{% endif %}
{% set playersAll = players | default([]) %}

{% block content %}
<section class="twins-dashboard">
  <header class="dashboard-header">
    <p class="slogan">ë¬´ì  LG, ëê¹Œì§€ Twins!</p>
    <h1 class="main-title">TWINS DASHBOARD</h1>
  </header>

  <div class="dashboard-layout">
    <!-- ì‚¬ì´ë“œë°” -->
    <aside class="sidebar">
      <div class="calendar-card">
        <h3>ğŸ“… ì´ë‹¬ ê²½ê¸°(ê°„ë‹¨ ëª©ë¡)</h3>
        <ul class="recent">
          {# YYYY-MM í•„í„°ë¡œ ì´ë‹¬ ê²½ê¸°ë§Œ ì¶œë ¥ #}
          {% set monthGames = [] %}
          {% for g in twinsArray %}
            {% if g.date and (monthISO in g.date) %}
              {% set monthGames = monthGames + [g] %}
            {% endif %}
          {% endfor %}

          {% if monthGames | length > 0 %}
            {% for g in monthGames %}
              {% set cls = "" %}
              {% if g.result == "ìŠ¹" %}{% set cls = "win" %}
              {% elseif g.result == "íŒ¨" %}{% set cls = "lose" %}
              {% else %}{% set cls = "scheduled" %}
              {% endif %}
              <li class="match-item {{ cls }}">
                <span>{{ g.date or "-" }} â€“ {{ g.opponent or g.opponentName or "ìƒëŒ€ ë¯¸ì •" }}</span>
                <span class="score">
                  {% if g.score %}
                    {{ g.score }}
                  {% elseif g.status == "ì˜ˆì •" or g.state == "planned" %}
                    ì˜ˆì •
                  {% else %}
                    -
                  {% endif %}
                </span>
              </li>
            {% endfor %}
          {% else %}
            <li class="empty">ì´ë‹¬ ê²½ê¸° ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</li>
          {% endif %}
        </ul>
      </div>

      <div class="recent-matches">
        <h3>âš¾ ìµœê·¼ ê²½ê¸°</h3>
        <ul>
          {% set done3_scan = twinsArray | reverse | slice(0, 10) %}
          {% set filtered = [] %}
          {% for game in done3_scan %}
            {% if (game.status == "ì¢…ë£Œ" or game.state == "done") and (filtered | length) < 3 %}
              {% set filtered = filtered + [game] %}
            {% endif %}
          {% endfor %}

          {% if filtered | length > 0 %}
            {% for game in filtered %}
              {% set cls = "" %}
              {% if game.result == "ìŠ¹" %}{% set cls = "win" %}
              {% elseif game.result == "íŒ¨" %}{% set cls = "lose" %}
              {% endif %}
              <li class="match-item {{ cls }}">
                <span>{{ game.date or "-" }} â€“ {{ game.opponent or game.opponentName or "ìƒëŒ€ ë¯¸ì •" }}</span>
                <span class="score">{{ game.score or "-" }}</span>
              </li>
            {% endfor %}
          {% else %}
            <li class="empty">í‘œì‹œí•  ìµœê·¼ ê²½ê¸° ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</li>
          {% endif %}
        </ul>
      </div>

      <a href="https://www.lgtwins.com/" target="_blank" rel="noopener" class="official-btn">
        ğŸ”— ê³µì‹ í™ˆí˜ì´ì§€
      </a>
    </aside>

    <!-- ë©”ì¸ -->
    <main class="main-panel">
      <section class="top-players">
        <h2>ğŸ”¥ ì¸ê¸° ì„ ìˆ˜ TOP 3</h2>
        <div class="top-player-cards">
          {# LGë§Œ ì¶”ì¶œ í›„ ë“í‘œìˆ˜ ë‚´ë¦¼ì°¨ìˆœ #}
          {% set lgVotes = allVotes 
              | selectattr("playerTeamSlug","equalto","lg") 
              | sort(attribute="playerTotalVotes") 
              | reverse %}

          {% if lgVotes | length > 0 %}
            {% for v in lgVotes | slice(0,3) %}
              <div class="player-card">
                <img
                  src="/images/players/{{ v.playerSlug }}.png"
                  class="player-img"
                  alt="{{ v.playerName }}"
                  loading="lazy"
                  decoding="async"
                  onerror="this.style.opacity=0.25"
                >
                <h4>{{ v.playerName }}</h4>
                <p>íˆ¬í‘œ ìˆ˜: {{ v.playerTotalVotes }}</p>
                <button class="vote-btn" data-type="player" data-slug="{{ v.playerSlug }}">ì‘ì›í•˜ê¸°</button>
              </div>
            {% endfor %}
          {% else %}
            <p class="empty">ì•„ì§ íˆ¬í‘œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
          {% endif %}
        </div>
      </section>

      <section class="all-players">
        <h2>ğŸ‘¥ ì „ì²´ ì„ ìˆ˜ë‹¨</h2>
        <div class="players-grid">
          {% set lgRoster = playersAll | selectattr("teamSlug","equalto","lg") | list %}

          {% if lgRoster | length > 0 %}
            {% for p in lgRoster %}
              <div class="player-card full">
                <img
                  src="/images/players/{{ p.slug }}.png"
                  class="player-img"
                  alt="{{ p.name }}"
                  loading="lazy"
                  decoding="async"
                  onerror="this.style.opacity=0.25"
                >
                <div class="info">
                  <h4>
                    {{ p.name }}{% if p.number %} <span>#{{ p.number }}</span>{% endif %}
                  </h4>
                  <p class="pos">{{ p.position or "í¬ì§€ì…˜ ë¯¸ì •" }}</p>
                  {% if p.note %}<p class="note">{{ p.note }}</p>{% endif %}
                  <button class="vote-btn" data-type="player" data-slug="{{ p.slug }}">íˆ¬í‘œí•˜ê¸°</button>
                </div>
              </div>
            {% endfor %}
          {% else %}
            <p class="empty">LG ì„ ìˆ˜ë‹¨ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
          {% endif %}
        </div>
      </section>
    </main>
  </div>
</section>

<script type="module">
  import { handleVote } from "/scripts/voteHandler.js";
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".vote-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        handleVote(btn.dataset.type, btn.dataset.slug);
      });
    });
  });
</script>
{% endblock %}